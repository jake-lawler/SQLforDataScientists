<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 The SELECT Statement | Notes on ‘SQL for Data Scientists’ by Renée M. P. Teate</title>
  <meta name="description" content="My Notes on ‘SQL for Data Scientists’." />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 The SELECT Statement | Notes on ‘SQL for Data Scientists’ by Renée M. P. Teate" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="My Notes on ‘SQL for Data Scientists’." />
  <meta name="github-repo" content="jake-lawler/SQLforDataScientists" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 The SELECT Statement | Notes on ‘SQL for Data Scientists’ by Renée M. P. Teate" />
  
  <meta name="twitter:description" content="My Notes on ‘SQL for Data Scientists’." />
  

<meta name="author" content="Jake Lawler" />


<meta name="date" content="2022-04-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data_sources.html"/>
<link rel="next" href="where.html"/>
<script src="libs/header-attrs-2.13/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="data_sources.html"><a href="data_sources.html"><i class="fa fa-check"></i><b>1</b> Data Sources</a>
<ul>
<li class="chapter" data-level="1.1" data-path="data_sources.html"><a href="data_sources.html#chapter-notes"><i class="fa fa-check"></i><b>1.1</b> Chapter Notes</a></li>
<li class="chapter" data-level="1.2" data-path="data_sources.html"><a href="data_sources.html#exercises"><i class="fa fa-check"></i><b>1.2</b> Exercises</a>
<ul>
<li class="chapter" data-level="" data-path="data_sources.html"><a href="data_sources.html#ex.-1"><i class="fa fa-check"></i>Ex. 1</a></li>
<li class="chapter" data-level="" data-path="data_sources.html"><a href="data_sources.html#ex.-2"><i class="fa fa-check"></i>Ex. 2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="select.html"><a href="select.html"><i class="fa fa-check"></i><b>2</b> The SELECT Statement</a>
<ul>
<li class="chapter" data-level="2.1" data-path="select.html"><a href="select.html#chapter-notes-1"><i class="fa fa-check"></i><b>2.1</b> Chapter Notes</a></li>
<li class="chapter" data-level="2.2" data-path="select.html"><a href="select.html#exercises-1"><i class="fa fa-check"></i><b>2.2</b> Exercises</a>
<ul>
<li class="chapter" data-level="" data-path="select.html"><a href="select.html#ex.-1-1"><i class="fa fa-check"></i>Ex. 1</a></li>
<li class="chapter" data-level="" data-path="select.html"><a href="select.html#ex.-2-1"><i class="fa fa-check"></i>Ex. 2</a></li>
<li class="chapter" data-level="" data-path="select.html"><a href="select.html#ex.-3"><i class="fa fa-check"></i>Ex. 3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="where.html"><a href="where.html"><i class="fa fa-check"></i><b>3</b> The WHERE Clause</a>
<ul>
<li class="chapter" data-level="3.1" data-path="where.html"><a href="where.html#chapter-notes-2"><i class="fa fa-check"></i><b>3.1</b> Chapter Notes</a></li>
<li class="chapter" data-level="3.2" data-path="where.html"><a href="where.html#exercises-2"><i class="fa fa-check"></i><b>3.2</b> Exercises</a>
<ul>
<li class="chapter" data-level="" data-path="where.html"><a href="where.html#ex.-1-2"><i class="fa fa-check"></i>Ex. 1</a></li>
<li class="chapter" data-level="" data-path="where.html"><a href="where.html#ex.-2-2"><i class="fa fa-check"></i>Ex. 2</a></li>
<li class="chapter" data-level="" data-path="where.html"><a href="where.html#ex.-3-1"><i class="fa fa-check"></i>Ex. 3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="case.html"><a href="case.html"><i class="fa fa-check"></i><b>4</b> CASE Statements</a>
<ul>
<li class="chapter" data-level="4.1" data-path="case.html"><a href="case.html#chapter-notes-3"><i class="fa fa-check"></i><b>4.1</b> Chapter Notes</a></li>
<li class="chapter" data-level="4.2" data-path="case.html"><a href="case.html#exercises-3"><i class="fa fa-check"></i><b>4.2</b> Exercises</a>
<ul>
<li class="chapter" data-level="" data-path="case.html"><a href="case.html#ex.-1-3"><i class="fa fa-check"></i>Ex. 1</a></li>
<li class="chapter" data-level="" data-path="case.html"><a href="case.html#ex.-2-3"><i class="fa fa-check"></i>Ex. 2</a></li>
<li class="chapter" data-level="" data-path="case.html"><a href="case.html#ex.-3-2"><i class="fa fa-check"></i>Ex. 3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="sql_joins.html"><a href="sql_joins.html"><i class="fa fa-check"></i><b>5</b> SQL JOINs</a>
<ul>
<li class="chapter" data-level="5.1" data-path="sql_joins.html"><a href="sql_joins.html#chapter-notes-4"><i class="fa fa-check"></i><b>5.1</b> Chapter Notes</a></li>
<li class="chapter" data-level="5.2" data-path="sql_joins.html"><a href="sql_joins.html#exercises-4"><i class="fa fa-check"></i><b>5.2</b> Exercises</a>
<ul>
<li class="chapter" data-level="" data-path="sql_joins.html"><a href="sql_joins.html#ex.-1-4"><i class="fa fa-check"></i>Ex. 1</a></li>
<li class="chapter" data-level="" data-path="sql_joins.html"><a href="sql_joins.html#ex.-2-4"><i class="fa fa-check"></i>Ex. 2</a></li>
<li class="chapter" data-level="" data-path="sql_joins.html"><a href="sql_joins.html#ex.-3-3"><i class="fa fa-check"></i>Ex. 3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="aggregating.html"><a href="aggregating.html"><i class="fa fa-check"></i><b>6</b> Aggregating Results for Analysis</a>
<ul>
<li class="chapter" data-level="6.1" data-path="aggregating.html"><a href="aggregating.html#chapter-notes-5"><i class="fa fa-check"></i><b>6.1</b> Chapter Notes</a></li>
<li class="chapter" data-level="6.2" data-path="aggregating.html"><a href="aggregating.html#exercises-5"><i class="fa fa-check"></i><b>6.2</b> Exercises</a>
<ul>
<li class="chapter" data-level="" data-path="aggregating.html"><a href="aggregating.html#ex.-1-5"><i class="fa fa-check"></i>Ex. 1</a></li>
<li class="chapter" data-level="" data-path="aggregating.html"><a href="aggregating.html#ex.-2-5"><i class="fa fa-check"></i>Ex. 2</a></li>
<li class="chapter" data-level="" data-path="aggregating.html"><a href="aggregating.html#ex.-3-4"><i class="fa fa-check"></i>Ex. 3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="window_functions.html"><a href="window_functions.html"><i class="fa fa-check"></i><b>7</b> Window Functions and Subqueries</a>
<ul>
<li class="chapter" data-level="7.1" data-path="window_functions.html"><a href="window_functions.html#chapter-notes-6"><i class="fa fa-check"></i><b>7.1</b> Chapter Notes</a></li>
<li class="chapter" data-level="7.2" data-path="window_functions.html"><a href="window_functions.html#exercises-6"><i class="fa fa-check"></i><b>7.2</b> Exercises</a>
<ul>
<li class="chapter" data-level="" data-path="window_functions.html"><a href="window_functions.html#ex.-1-6"><i class="fa fa-check"></i>Ex. 1</a></li>
<li class="chapter" data-level="" data-path="window_functions.html"><a href="window_functions.html#ex.-2-6"><i class="fa fa-check"></i>Ex. 2</a></li>
<li class="chapter" data-level="" data-path="window_functions.html"><a href="window_functions.html#ex.-3-5"><i class="fa fa-check"></i>Ex. 3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="date_time.html"><a href="date_time.html"><i class="fa fa-check"></i><b>8</b> Date and Time Functions</a>
<ul>
<li class="chapter" data-level="8.1" data-path="date_time.html"><a href="date_time.html#chapter-notes-7"><i class="fa fa-check"></i><b>8.1</b> Chapter Notes</a></li>
<li class="chapter" data-level="8.2" data-path="date_time.html"><a href="date_time.html#exercises-7"><i class="fa fa-check"></i><b>8.2</b> Exercises</a>
<ul>
<li class="chapter" data-level="" data-path="date_time.html"><a href="date_time.html#ex.-1-7"><i class="fa fa-check"></i>Ex. 1</a></li>
<li class="chapter" data-level="" data-path="date_time.html"><a href="date_time.html#ex.-2-7"><i class="fa fa-check"></i>Ex. 2</a></li>
<li class="chapter" data-level="" data-path="date_time.html"><a href="date_time.html#ex.-3-6"><i class="fa fa-check"></i>Ex. 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="date_time.html"><a href="date_time.html#further-reading"><i class="fa fa-check"></i>Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="exploratory_analysis.html"><a href="exploratory_analysis.html"><i class="fa fa-check"></i><b>9</b> Exploratory Data Analysis with SQL</a>
<ul>
<li class="chapter" data-level="9.1" data-path="exploratory_analysis.html"><a href="exploratory_analysis.html#chapter-notes-8"><i class="fa fa-check"></i><b>9.1</b> Chapter Notes</a></li>
<li class="chapter" data-level="9.2" data-path="exploratory_analysis.html"><a href="exploratory_analysis.html#exercises-8"><i class="fa fa-check"></i><b>9.2</b> Exercises</a>
<ul>
<li class="chapter" data-level="" data-path="exploratory_analysis.html"><a href="exploratory_analysis.html#ex.-1-8"><i class="fa fa-check"></i>Ex. 1</a></li>
<li class="chapter" data-level="" data-path="exploratory_analysis.html"><a href="exploratory_analysis.html#ex.-2-8"><i class="fa fa-check"></i>Ex. 2</a></li>
<li class="chapter" data-level="" data-path="exploratory_analysis.html"><a href="exploratory_analysis.html#ex.-3-7"><i class="fa fa-check"></i>Ex. 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exploratory_analysis.html"><a href="exploratory_analysis.html#further-reading-1"><i class="fa fa-check"></i>Further Reading</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Notes on ‘SQL for Data Scientists’ by Renée M. P. Teate</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="select" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 2</span> The SELECT Statement</h1>
<div id="chapter-notes-1" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Chapter Notes</h2>
<p>The next few chapters introduce basic SQL syntax.</p>
<p>Here’s a very simple example:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb6-1"><a href="select.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> farmers_market.product</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-2">Table 2.1: </span>Displaying records 1 - 5</caption>
<colgroup>
<col width="12%" />
<col width="30%" />
<col width="14%" />
<col width="22%" />
<col width="19%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">product_id</th>
<th align="left">product_name</th>
<th align="left">product_size</th>
<th align="right">product_category_id</th>
<th align="left">product_qty_type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">Habanero Peppers - Organic</td>
<td align="left">medium</td>
<td align="right">1</td>
<td align="left">lbs</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">Jalapeno Peppers - Organic</td>
<td align="left">small</td>
<td align="right">1</td>
<td align="left">lbs</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="left">Poblano Peppers - Organic</td>
<td align="left">large</td>
<td align="right">1</td>
<td align="left">unit</td>
</tr>
<tr class="even">
<td align="left">4</td>
<td align="left">Banana Peppers - Jar</td>
<td align="left">8 oz</td>
<td align="right">3</td>
<td align="left">unit</td>
</tr>
<tr class="odd">
<td align="left">5</td>
<td align="left">Whole Wheat Bread</td>
<td align="left">1.5 lbs</td>
<td align="right">3</td>
<td align="left">unit</td>
</tr>
</tbody>
</table>
</div>
<p>We’ve selected all columns from the table named “product”, and I’ve used R Markdown’s knit options to limit the results displayed to the first five rows. We can use SQL’s LIMIT clause for the same effect:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb7-1"><a href="select.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> </span>
<span id="cb7-2"><a href="select.html#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> farmers_market.product</span>
<span id="cb7-3"><a href="select.html#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="kw">LIMIT</span> <span class="dv">5</span></span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-3">Table 2.2: </span>5 records</caption>
<colgroup>
<col width="12%" />
<col width="30%" />
<col width="14%" />
<col width="22%" />
<col width="19%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">product_id</th>
<th align="left">product_name</th>
<th align="left">product_size</th>
<th align="right">product_category_id</th>
<th align="left">product_qty_type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">Habanero Peppers - Organic</td>
<td align="left">medium</td>
<td align="right">1</td>
<td align="left">lbs</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">Jalapeno Peppers - Organic</td>
<td align="left">small</td>
<td align="right">1</td>
<td align="left">lbs</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="left">Poblano Peppers - Organic</td>
<td align="left">large</td>
<td align="right">1</td>
<td align="left">unit</td>
</tr>
<tr class="even">
<td align="left">4</td>
<td align="left">Banana Peppers - Jar</td>
<td align="left">8 oz</td>
<td align="right">3</td>
<td align="left">unit</td>
</tr>
<tr class="odd">
<td align="left">5</td>
<td align="left">Whole Wheat Bread</td>
<td align="left">1.5 lbs</td>
<td align="right">3</td>
<td align="left">unit</td>
</tr>
</tbody>
</table>
</div>
<p>Line breaks, tabs and spaces are treated the same by SQL. Usually adding line breaks makes for more legible code.</p>
<p>Instead of asking for all columns, we can specify the ones we want in the SELECT clause:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb8-1"><a href="select.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> product_id, product_name </span>
<span id="cb8-2"><a href="select.html#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> farmers_market.product</span>
<span id="cb8-3"><a href="select.html#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="kw">LIMIT</span> <span class="dv">5</span></span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-4">Table 2.3: </span>5 records</caption>
<thead>
<tr class="header">
<th align="left">product_id</th>
<th align="left">product_name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">Habanero Peppers - Organic</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">Jalapeno Peppers - Organic</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="left">Poblano Peppers - Organic</td>
</tr>
<tr class="even">
<td align="left">4</td>
<td align="left">Banana Peppers - Jar</td>
</tr>
<tr class="odd">
<td align="left">5</td>
<td align="left">Whole Wheat Bread</td>
</tr>
</tbody>
</table>
</div>
<p>The chapter introduces the ORDER BY clause:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb9-1"><a href="select.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> product_id, product_name </span>
<span id="cb9-2"><a href="select.html#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> farmers_market.product </span>
<span id="cb9-3"><a href="select.html#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> product_name</span>
<span id="cb9-4"><a href="select.html#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="kw">LIMIT</span> <span class="dv">5</span></span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-5">Table 0.1: </span>5 records</caption>
<thead>
<tr class="header">
<th align="right">product_id</th>
<th align="left">product_name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">7</td>
<td align="left">Apple Pie</td>
</tr>
<tr class="even">
<td align="right">13</td>
<td align="left">Baby Salad Lettuce Mix</td>
</tr>
<tr class="odd">
<td align="right">12</td>
<td align="left">Baby Salad Lettuce Mix - Bag</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">Banana Peppers - Jar</td>
</tr>
<tr class="odd">
<td align="right">17</td>
<td align="left">Carrots</td>
</tr>
</tbody>
</table>
</div>
<p>The default ASC behaviour sorts text alphabetically and numbers from low to high, but we can also use the DESC behaviour:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb10-1"><a href="select.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> product_id, product_name </span>
<span id="cb10-2"><a href="select.html#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> farmers_market.product </span>
<span id="cb10-3"><a href="select.html#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> product_name <span class="kw">DESC</span></span>
<span id="cb10-4"><a href="select.html#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="kw">LIMIT</span> <span class="dv">5</span></span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-6">Table 2.4: </span>5 records</caption>
<thead>
<tr class="header">
<th align="right">product_id</th>
<th align="left">product_name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">5</td>
<td align="left">Whole Wheat Bread</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="left">Sweet Potatoes</td>
</tr>
<tr class="odd">
<td align="right">16</td>
<td align="left">Sweet Corn</td>
</tr>
<tr class="even">
<td align="right">22</td>
<td align="left">Roma Tomatoes</td>
</tr>
<tr class="odd">
<td align="right">15</td>
<td align="left">Red Potatoes - Small</td>
</tr>
</tbody>
</table>
</div>
<p>We can also sort on multiple columns. The code below sorts first on market date and then on vendor ID:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb11-1"><a href="select.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> market_date, vendor_id, booth_number </span>
<span id="cb11-2"><a href="select.html#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> farmers_market.vendor_booth_assignments </span>
<span id="cb11-3"><a href="select.html#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> market_date, vendor_id</span>
<span id="cb11-4"><a href="select.html#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="kw">LIMIT</span> <span class="dv">5</span></span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-7">Table 2.5: </span>5 records</caption>
<thead>
<tr class="header">
<th align="left">market_date</th>
<th align="right">vendor_id</th>
<th align="right">booth_number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2019-04-03</td>
<td align="right">1</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">2019-04-03</td>
<td align="right">3</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">2019-04-03</td>
<td align="right">4</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">2019-04-03</td>
<td align="right">7</td>
<td align="right">11</td>
</tr>
<tr class="odd">
<td align="left">2019-04-03</td>
<td align="right">8</td>
<td align="right">6</td>
</tr>
</tbody>
</table>
</div>
<p>We can also do simple calculations on the columns from within the SELECT clause. The code below contains two calculations like this. First, the columns quantity and cost_to_customer_per_qty are multiplied together. The the <em>function</em> ROUND is used to round the resulting price column to 2 digits after the decimal point. The ROUND function also accepts negative numbers to round digits to the left of the decimal point. The AS keyword is used to give the resulting column the <em>alias</em> price</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb12-1"><a href="select.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> market_date, customer_id, vendor_id, <span class="fu">ROUND</span>(quantity <span class="op">*</span> cost_to_customer_per_qty,<span class="dv">2</span>) <span class="kw">AS</span> price</span>
<span id="cb12-2"><a href="select.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> farmers_market.customer_purchases</span>
<span id="cb12-3"><a href="select.html#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="kw">LIMIT</span> <span class="dv">5</span></span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-8">Table 2.6: </span>5 records</caption>
<thead>
<tr class="header">
<th align="left">market_date</th>
<th align="right">customer_id</th>
<th align="right">vendor_id</th>
<th align="right">price</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2019-07-03</td>
<td align="right">14</td>
<td align="right">7</td>
<td align="right">6.92</td>
</tr>
<tr class="even">
<td align="left">2019-07-03</td>
<td align="right">14</td>
<td align="right">7</td>
<td align="right">15.24</td>
</tr>
<tr class="odd">
<td align="left">2019-07-03</td>
<td align="right">15</td>
<td align="right">7</td>
<td align="right">10.69</td>
</tr>
<tr class="even">
<td align="left">2019-07-03</td>
<td align="right">16</td>
<td align="right">7</td>
<td align="right">14.12</td>
</tr>
<tr class="odd">
<td align="left">2019-07-03</td>
<td align="right">22</td>
<td align="right">7</td>
<td align="right">4.61</td>
</tr>
</tbody>
</table>
</div>
<p>Another common function is the CONCAT function, which can be used inside the SELECT statement to e.g. combine first and last names into a single column like so: CONCAT(customer_first_name, ” “, customer_last_name) AS customer_name. The UPPER function puts text values in all caps.</p>
<p>There is then a section about using the query editor in MySQL workbench to perform some basic checks on your query. I did a little of that but obviously can’t display that here. One option that R Markdown allows for though is to assign the result of your query to some R object using the output.var option. Here I’ve included output.var=“transactions” in the SQL chunk options and when I run the query:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb13-1"><a href="select.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> market_date, customer_id, vendor_id, <span class="fu">ROUND</span>(quantity <span class="op">*</span> cost_to_customer_per_qty, <span class="dv">2</span>) <span class="kw">AS</span> price</span>
<span id="cb13-2"><a href="select.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> farmers_market.customer_purchases</span></code></pre></div>
<p>I get a data frame with 4,221 rows, and I can then use standard R functions to check if the query is returning results as expected. E.g.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="select.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(transactions<span class="sc">$</span>market_date)</span></code></pre></div>
<pre><code>## [1] &quot;2019-04-03&quot; &quot;2020-10-10&quot;</code></pre>
</div>
<div id="exercises-1" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Exercises</h2>
<div id="ex.-1-1" class="section level3 unnumbered">
<h3>Ex. 1</h3>
<div id="question-2" class="section level4 unnumbered">
<h4>Question</h4>
<blockquote>
<p>Write a query that returns everything in the customer table.</p>
</blockquote>
</div>
<div id="answer-2" class="section level4 unnumbered">
<h4>Answer</h4>
<div class="sourceCode" id="cb16"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb16-1"><a href="select.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb16-2"><a href="select.html#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> farmers_market.customer</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-11">Table 2.7: </span>26 records</caption>
<thead>
<tr class="header">
<th align="left">customer_id</th>
<th align="left">customer_first_name</th>
<th align="left">customer_last_name</th>
<th align="left">customer_zip</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">Jane</td>
<td align="left">Connor</td>
<td align="left">22801</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">Manuel</td>
<td align="left">Diaz</td>
<td align="left">22821</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="left">Bob</td>
<td align="left">Wilson</td>
<td align="left">22821</td>
</tr>
<tr class="even">
<td align="left">4</td>
<td align="left">Deanna</td>
<td align="left">Washington</td>
<td align="left">22801</td>
</tr>
<tr class="odd">
<td align="left">5</td>
<td align="left">Abigail</td>
<td align="left">Harris</td>
<td align="left">22801</td>
</tr>
<tr class="even">
<td align="left">6</td>
<td align="left">Betty</td>
<td align="left">Bullard</td>
<td align="left">22801</td>
</tr>
<tr class="odd">
<td align="left">7</td>
<td align="left">Jessica</td>
<td align="left">Armenta</td>
<td align="left">22821</td>
</tr>
<tr class="even">
<td align="left">8</td>
<td align="left">Norma</td>
<td align="left">Valenzuela</td>
<td align="left">22821</td>
</tr>
<tr class="odd">
<td align="left">9</td>
<td align="left">Janet</td>
<td align="left">Forbes</td>
<td align="left">22801</td>
</tr>
<tr class="even">
<td align="left">10</td>
<td align="left">Russell</td>
<td align="left">Edwards</td>
<td align="left">22801</td>
</tr>
<tr class="odd">
<td align="left">11</td>
<td align="left">Richard</td>
<td align="left">Paulson</td>
<td align="left">22801</td>
</tr>
<tr class="even">
<td align="left">12</td>
<td align="left">Jack</td>
<td align="left">Wise</td>
<td align="left">22821</td>
</tr>
<tr class="odd">
<td align="left">13</td>
<td align="left">Jeremy</td>
<td align="left">Gruber</td>
<td align="left">22821</td>
</tr>
<tr class="even">
<td align="left">14</td>
<td align="left">William</td>
<td align="left">Lopes</td>
<td align="left">22801</td>
</tr>
<tr class="odd">
<td align="left">15</td>
<td align="left">Darrell</td>
<td align="left">Messina</td>
<td align="left">22801</td>
</tr>
<tr class="even">
<td align="left">16</td>
<td align="left">Ada</td>
<td align="left">Nieves</td>
<td align="left">22801</td>
</tr>
<tr class="odd">
<td align="left">17</td>
<td align="left">Carlos</td>
<td align="left">Diaz</td>
<td align="left">22802</td>
</tr>
<tr class="even">
<td align="left">18</td>
<td align="left">Jeri</td>
<td align="left">Mitchell</td>
<td align="left">22802</td>
</tr>
<tr class="odd">
<td align="left">19</td>
<td align="left">Iva</td>
<td align="left">Kienzler</td>
<td align="left">22802</td>
</tr>
<tr class="even">
<td align="left">20</td>
<td align="left">Valerie</td>
<td align="left">Loftis</td>
<td align="left">22802</td>
</tr>
<tr class="odd">
<td align="left">21</td>
<td align="left">Duane</td>
<td align="left">Sipp</td>
<td align="left">22801</td>
</tr>
<tr class="even">
<td align="left">22</td>
<td align="left">George</td>
<td align="left">Rai</td>
<td align="left">22801</td>
</tr>
<tr class="odd">
<td align="left">23</td>
<td align="left">Alvin</td>
<td align="left">Laurie</td>
<td align="left">22801</td>
</tr>
<tr class="even">
<td align="left">24</td>
<td align="left">Dawn</td>
<td align="left">Nale</td>
<td align="left">22801</td>
</tr>
<tr class="odd">
<td align="left">25</td>
<td align="left">Bonnie</td>
<td align="left">Hassan</td>
<td align="left">22801</td>
</tr>
<tr class="even">
<td align="left">26</td>
<td align="left">Tracie</td>
<td align="left">Goehring</td>
<td align="left">22821</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="ex.-2-1" class="section level3 unnumbered">
<h3>Ex. 2</h3>
<div id="question-3" class="section level4 unnumbered">
<h4>Question</h4>
<blockquote>
<p>Write a query that displays all of the columns and 10 rows from the customer table, sorted by customer_last_name , then customer_first_name .</p>
</blockquote>
</div>
<div id="answer-3" class="section level4 unnumbered">
<h4>Answer</h4>
<div class="sourceCode" id="cb17"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb17-1"><a href="select.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb17-2"><a href="select.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> farmers_market.customer</span>
<span id="cb17-3"><a href="select.html#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> customer_last_name, customer_first_name</span>
<span id="cb17-4"><a href="select.html#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="kw">LIMIT</span> <span class="dv">10</span></span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-12">Table 2.8: </span>10 records</caption>
<thead>
<tr class="header">
<th align="right">customer_id</th>
<th align="left">customer_first_name</th>
<th align="left">customer_last_name</th>
<th align="left">customer_zip</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">7</td>
<td align="left">Jessica</td>
<td align="left">Armenta</td>
<td align="left">22821</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">Betty</td>
<td align="left">Bullard</td>
<td align="left">22801</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">Jane</td>
<td align="left">Connor</td>
<td align="left">22801</td>
</tr>
<tr class="even">
<td align="right">17</td>
<td align="left">Carlos</td>
<td align="left">Diaz</td>
<td align="left">22802</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">Manuel</td>
<td align="left">Diaz</td>
<td align="left">22821</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="left">Russell</td>
<td align="left">Edwards</td>
<td align="left">22801</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="left">Janet</td>
<td align="left">Forbes</td>
<td align="left">22801</td>
</tr>
<tr class="even">
<td align="right">26</td>
<td align="left">Tracie</td>
<td align="left">Goehring</td>
<td align="left">22821</td>
</tr>
<tr class="odd">
<td align="right">13</td>
<td align="left">Jeremy</td>
<td align="left">Gruber</td>
<td align="left">22821</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="left">Abigail</td>
<td align="left">Harris</td>
<td align="left">22801</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="ex.-3" class="section level3 unnumbered">
<h3>Ex. 3</h3>
<div id="question-4" class="section level4 unnumbered">
<h4>Question</h4>
<blockquote>
<p>Write a query that lists all customer IDs and first names in the customer table, sorted by first_name.</p>
</blockquote>
</div>
<div id="answer-4" class="section level4 unnumbered">
<h4>Answer</h4>
<div class="sourceCode" id="cb18"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb18-1"><a href="select.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> customer_id, customer_first_name</span>
<span id="cb18-2"><a href="select.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> farmers_market.customer</span>
<span id="cb18-3"><a href="select.html#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> customer_first_name</span></code></pre></div>
<div class="knitsql-table">
<table>
<caption><span id="tab:unnamed-chunk-13">Table 2.9: </span>26 records</caption>
<thead>
<tr class="header">
<th align="right">customer_id</th>
<th align="left">customer_first_name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">5</td>
<td align="left">Abigail</td>
</tr>
<tr class="even">
<td align="right">16</td>
<td align="left">Ada</td>
</tr>
<tr class="odd">
<td align="right">23</td>
<td align="left">Alvin</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">Betty</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">Bob</td>
</tr>
<tr class="even">
<td align="right">25</td>
<td align="left">Bonnie</td>
</tr>
<tr class="odd">
<td align="right">17</td>
<td align="left">Carlos</td>
</tr>
<tr class="even">
<td align="right">15</td>
<td align="left">Darrell</td>
</tr>
<tr class="odd">
<td align="right">24</td>
<td align="left">Dawn</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">Deanna</td>
</tr>
<tr class="odd">
<td align="right">21</td>
<td align="left">Duane</td>
</tr>
<tr class="even">
<td align="right">22</td>
<td align="left">George</td>
</tr>
<tr class="odd">
<td align="right">19</td>
<td align="left">Iva</td>
</tr>
<tr class="even">
<td align="right">12</td>
<td align="left">Jack</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">Jane</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="left">Janet</td>
</tr>
<tr class="odd">
<td align="right">13</td>
<td align="left">Jeremy</td>
</tr>
<tr class="even">
<td align="right">18</td>
<td align="left">Jeri</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="left">Jessica</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">Manuel</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="left">Norma</td>
</tr>
<tr class="even">
<td align="right">11</td>
<td align="left">Richard</td>
</tr>
<tr class="odd">
<td align="right">10</td>
<td align="left">Russell</td>
</tr>
<tr class="even">
<td align="right">26</td>
<td align="left">Tracie</td>
</tr>
<tr class="odd">
<td align="right">20</td>
<td align="left">Valerie</td>
</tr>
<tr class="even">
<td align="right">14</td>
<td align="left">William</td>
</tr>
</tbody>
</table>
</div>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data_sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="where.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-select.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
